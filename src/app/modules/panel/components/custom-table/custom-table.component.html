<div class="table-responsive">
  <div class="d-flex align-items-center justify-content-between p-3 bg-light" *ngIf="showCaption">
    <div class="table-caption">
      <i [class]="captionIcon"></i>
      <h5 class="mb-0">{{captionText | translate}}</h5>
      <div class="table-search" [class.mr-5]="captionText || captionIcon">
        <input type="text" (keydown.enter)="onSearch()" [(ngModel)]="searchTerm"
               [placeholder]="'im_search' | translate">
        <button class="close" (click)="toggleSearch()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
    <div class="table-actions">
      <!--      <a tooltipPosition="bottom" [pTooltip]="'im_filter' | translate" (click)="onActionClick('onFilter')">-->
      <!--        <i class="icon-settings"></i>-->
      <!--      </a>-->
      <a *ngPanelPermission="'Owner'" tooltipPosition="bottom" [pTooltip]="'im_add' | translate"
         (click)="onActionClick('onAdd')">
        <i class="icon-add"></i>
      </a>
      <!--      <a tooltipPosition="bottom" [pTooltip]="'im_download' | translate" (click)="onActionClick('onDownload')">-->
      <!--        <i class="icon-download"></i>-->
      <!--      </a>-->
      <a tooltipPosition="bottom" [pTooltip]="'im_refresh' | translate"
         (click)="dataTable.reset();onActionClick('onReload')">
        <i class="icon-refresh"></i>
      </a>
      <a tooltipPosition="bottom" [pTooltip]="'im_search' | translate" (click)="toggleSearch()">
        <i class="icon-search"></i>
      </a>
    </div>
  </div>
  <p-table [value]="rowData" responsiveLayout="scroll" [rowHover]="true" (onSort)="sortColumn($event)"
           styleClass="p-datatable-{{size}}"
           #dataTable>
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let item of config?.colDef" [pSortableColumn]="item.sortField">
          {{ item.header | translate }}
          <p-sortIcon *ngIf="item.sortField" [field]="item.sortField"></p-sortIcon>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
      <ng-container
        [ngTemplateOutlet]="tableBody"
        [ngTemplateOutletContext]="{ $implicit: item,rowIndex:rowIndex }">
      </ng-container>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td class="text-center" [attr.colspan]="config.colDef.length">
          <ng-empty message="موردی یافت نشد"></ng-empty>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="summary">
      <p-paginator [rows]="10" (onPageChange)="onPageChange($event)" *ngIf="config?.total"
                   [totalRecords]="config.total"></p-paginator>
    </ng-template>
  </p-table>
</div>
